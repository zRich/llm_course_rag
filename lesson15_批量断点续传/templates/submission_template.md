# Lesson 15 提交模板（学生）

## 1. 实现概述
- 简述 `process_documents_batch` 的检查点与恢复实现（含 `batch_id` / `shard`）。
- 幂等键设计（`source + normalized_id + content_hash + layer`）与去重策略。
- 重试与退避参数（最大次数、基准延迟、抖动）与降级路径。

## 2. 配置与参数
- 运行配置：并发度、分片大小、重试参数、检查点命名空间。
- 输入文件：`examples/input_example.json` 或自制更大规模样本。

## 3. 运行记录与数据
- 首次运行：概览指标（完成数、失败数、重复数、吞吐、延迟 p50/p95）。
- 恢复运行：仅处理未完成项；记录恢复时间与重复率。
- 故障注入：说明方式与比例（1–5%），附关键日志片段。

## 4. 指标达成情况
- 完成率 ≥ 99%：证据与截图。
- 重复率 ≤ 1%：证据与截图。
- 恢复时间 ≤ 1 分钟：证据与截图。

## 5. 错误与恢复
- 统一错误结构示例 `{ error: { code/message/details/hints } }`。
- 失败原因分布与 `last_error` 汇总。
- 降级策略触发与效果说明。

## 6. 日志片段
- 进度输出与检查点写入记录。
- 重试与退避参数、失败栈与恢复完成日志。

## 7. 截图清单
- 首次运行统计面板或日志截图。
- 故障注入后恢复统计与日志截图。
- 检查点文件/记录的展示。

## 8. 边界与改进
- 未覆盖的场景与工程边界声明（如分布式队列/强事务）。
- 可考虑的改进方向（锁粒度、热点削峰、分层检查点等）。

## 9. 验收自评
- 是否满足阈值：完成率、重复率、恢复时间。
- 一致性与命名：与课程主线契约一致。
- 自评结论与需要助教进一步关注的点。