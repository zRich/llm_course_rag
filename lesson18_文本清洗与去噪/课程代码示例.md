# 第18节课 - 文本清洗与去噪代码示例

## 1. 文本清洗器 (TextCleaner)

```python
import re
from typing import Dict, List, Optional

class TextCleaner:
    """文本清洗器 - 用于清理和规范化文本数据"""
    
    def __init__(self, config: Dict = None):
        """初始化文本清洗器"""
        self.config = config or {}
        self.min_line_length = self.config.get('min_line_length', 3)
        self.max_line_length = self.config.get('max_line_length', 500)
        self.remove_duplicates = self.config.get('remove_duplicates', True)
        
        # 初始化清洗规则
        self._init_cleaning_rules()
    
    def _init_cleaning_rules(self):
        """初始化清洗规则"""
        # 无意义内容的正则模式
        self.meaningless_patterns = [
            re.compile(r'^\s*[=\-_]{3,}\s*$'),  # 分隔线
            re.compile(r'^\s*第?\d+页\s*$'),     # 页码
            re.compile(r'^\s*\d+\s*$'),         # 纯数字
            re.compile(r'^\s*[\*\+\-]{3,}\s*$'), # 符号分隔
            re.compile(r'^\s*目录\s*$'),        # 目录标题
            re.compile(r'^\s*附录[A-Z]?\s*$')   # 附录标题
        ]
        
        # 特殊字符替换映射
        self.char_replacements = {
            '…': '...',
            '—': '-',
            '–': '-',
            ''': "'",
            ''': "'",
            '