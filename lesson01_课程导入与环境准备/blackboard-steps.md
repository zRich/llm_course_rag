# 黑板/投屏操作步骤 - Lesson 01

## 投屏设备准备
- **主屏幕**: 用于展示PPT和架构图
- **副屏幕**: 用于代码演示和终端操作
- **备用方案**: 准备纸质架构图，以防投屏设备故障

## 第一课时投屏内容

### 1. 课程开场（10分钟）

**投屏内容1: 课程目标**
```
今天的学习目标：
✓ 理解RAG核心概念和工作原理
✓ 掌握企业级开发环境搭建
✓ 创建第一个FastAPI应用
✓ 为后续RAG开发奠定基础
```

**操作步骤**:
1. 投屏显示课程目标
2. 逐条解释每个目标的重要性
3. 询问学生对AI助手的使用经验
4. 记录学生提到的AI问题案例

### 2. RAG概念讲解（25分钟）

**投屏内容2: RAG架构图**
```
传统AI回答模式：
用户问题 → AI模型 → 基于训练数据回答 → 可能过时/错误

RAG增强模式：
用户问题 → 检索相关文档 → 整合上下文 → AI基于事实回答 → 准确可靠
```

**操作步骤**:
1. 先展示传统模式，强调问题
2. 再展示RAG模式，对比优势
3. 用律师查阅法条的比喻解释
4. 让学生复述RAG三阶段

**投屏内容3: RAG三阶段详解**
```
1. 检索阶段 (Retrieval)
   输入: "公司年假政策是什么？"
   处理: 在HR文档库中搜索相关政策
   输出: 找到年假相关的政策条款

2. 增强阶段 (Augmentation)  
   输入: 用户问题 + 检索到的政策条款
   处理: 将政策条款作为上下文整合
   输出: 包含准确信息的完整提示词

3. 生成阶段 (Generation)
   输入: 增强后的提示词
   处理: AI基于真实政策生成回答
   输出: "根据公司政策，正式员工享有..."
```

**操作步骤**:
1. 逐阶段展示，每阶段停顿让学生理解
2. 用具体例子说明每个阶段的输入输出
3. 强调"基于事实"的重要性
4. 询问学生还有哪些应用场景

**投屏内容4: 企业使用RAG的原因**
```
为什么企业需要RAG？

❌ 传统AI的问题:
• 知识有截止时间 (训练数据过时)
• 容易产生幻觉 (编造不存在的信息)  
• 无法访问私有数据 (企业内部文档)
• 难以验证答案来源 (无法追溯)

✅ RAG的优势:
• 实时知识更新 (更新文档即可)
• 基于事实回答 (有文档依据)
• 支持私有知识库 (企业专有信息)
• 可追溯信息来源 (提供文档链接)
• 降低运营成本 (无需重新训练)
```

**操作步骤**:
1. 先展示问题，让学生感同身受
2. 再展示解决方案，形成对比
3. 每个优势都举具体例子
4. 询问学生工作中的相关需求

### 3. RAG系统模块讲解（20分钟）

**投屏内容5: RAG系统架构**
```
RAG系统五大核心模块：

[文档处理] → [向量化] → [检索] → [生成] → [评估]
     ↓          ↓        ↓       ↓       ↓
  文档解析    文本编码   相似度   答案生成  质量监控
  内容分块    向量存储   快速检索  上下文整合 性能优化
```

**操作步骤**:
1. 从左到右逐个模块介绍
2. 每个模块都说明输入、处理、输出
3. 强调模块间的数据流转关系
4. 用实际例子说明每个模块的作用

**投屏内容6: 模块详细功能**
```
1. 文档处理模块
   • 支持格式: PDF, Word, Excel, 网页, 纯文本
   • 核心功能: 解析、清洗、分块、去重
   • 输出: 结构化的文本片段

2. 向量化模块  
   • 核心技术: 词嵌入、句子编码器
   • 处理过程: 文本 → 数值向量 → 语义表示
   • 示例: "苹果手机" ≈ "iPhone" (向量相似)

3. 检索模块
   • 检索方式: 向量相似度、关键词匹配、混合检索
   • 性能指标: 速度(ms)、准确率(%)、召回率(%)
   • 优化策略: 索引优化、缓存机制

4. 生成模块
   • 输入整合: 用户问题 + 检索结果 + 系统提示
   • 生成控制: 温度参数、长度限制、格式要求
   • 质量保证: 事实检查、相关性验证

5. 评估模块
   • 实时监控: 响应时间、成功率、用户满意度
   • 质量评估: 答案准确性、相关性、完整性
   • 持续优化: A/B测试、反馈收集、模型调优
```

**操作步骤**:
1. 每个模块单独展示，详细解释
2. 用具体数据和指标说明
3. 强调企业级考虑因素
4. 让学生思考每个模块的挑战

## 第二课时投屏内容

### 4. 技术栈介绍（15分钟）

**投屏内容7: 技术栈对比**
```
企业级技术栈选择对比：

Web框架选择:
| 框架     | 性能 | 文档生成 | 类型安全 | 异步支持 | 企业采用 |
|----------|------|----------|----------|----------|----------|
| Flask    | 中等 | 手动     | 弱       | 需插件   | 高       |
| Django   | 中等 | 丰富     | 中等     | 部分     | 高       |
| FastAPI  | 高   | 自动     | 强       | 原生     | 增长中   |

包管理工具对比:
| 工具    | 安装速度 | 依赖解析 | 锁定文件 | 虚拟环境 | 企业特性 |
|---------|----------|----------|----------|----------|----------|
| pip     | 慢       | 基础     | 无       | 手动     | 基础     |
| poetry  | 中等     | 好       | 有       | 集成     | 良好     |
| uv      | 极快     | 优秀     | 有       | 集成     | 优秀     |
```

**操作步骤**:
1. 逐项对比，说明选择理由
2. 强调企业级考虑因素
3. 现场演示速度差异（如果可能）
4. 解答学生关于技术选择的疑问

### 5. 环境搭建演示（35分钟）

**投屏内容8: 环境要求检查**
```
环境准备检查清单：

✓ Python 3.12+
✓ Git 版本控制
✓ VSCode 或其他IDE  
✓ 网络连接 (下载依赖)
✓ 至少 2GB 可用磁盘空间

验证命令：
python --version
git --version
```

**操作步骤**:
1. 投屏显示检查清单
2. 让学生逐项验证自己的环境
3. 现场帮助解决环境问题
4. 确保所有学生环境就绪

**投屏内容9: uv安装演示**
```
uv 安装步骤：

macOS/Linux:
curl -LsSf https://astral.sh/uv/install.sh | sh

Windows PowerShell:
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

验证安装:
uv --version

配置国内源（可选）:
# 创建uv配置目录
mkdir -p ~/.config/uv

# 配置清华镜像源
cat > ~/.config/uv/uv.toml << EOF
[global]
index-url = "https://pypi.tuna.tsinghua.edu.cn/simple"
extra-index-url = [
    "https://mirrors.aliyun.com/pypi/simple/",
    "https://pypi.douban.com/simple/"
]
EOF
```

**操作步骤**:
1. 分平台展示安装命令
2. 现场演示安装过程
3. 等待学生完成安装
4. 验证安装结果

**投屏内容10: 项目创建演示**
```
项目初始化步骤：

1. 创建项目目录
   mkdir exercise
   cd exercise

2. 初始化uv项目  
   uv init exercise

3. 设置Python版本
   uv python pin 3.12

4. 安装核心依赖
   uv add fastapi uvicorn[standard]
   uv add pydantic-settings python-dotenv
   uv add loguru
   uv add --dev ruff pytest httpx
```

**操作步骤**:
1. 切换到终端窗口
2. 逐条执行命令，解释每条命令的作用
3. 观察uv的安装速度
4. 让学生跟随操作

### 6. FastAPI应用演示（10分钟）

**投屏内容11: 项目结构**
```
创建项目结构：

exercise/
├── app/
│   ├── __init__.py          # 包初始化
│   ├── main.py              # 应用入口
│   ├── core/                # 核心配置
│   │   ├── __init__.py
│   │   ├── config.py        # 配置管理
│   │   └── logging.py       # 日志配置
│   └── api/                 # API路由
│       ├── __init__.py
│       └── health.py        # 健康检查
├── tests/                   # 测试代码
│   ├── __init__.py
│   └── test_health.py
├── .env.example             # 环境变量模板
├── .gitignore              # Git忽略文件
└── README.md               # 项目说明
```

**操作步骤**:
1. 展示完整的项目结构
2. 解释每个文件和目录的作用
3. 强调企业级项目的组织方式
4. 现场创建目录结构

**投屏内容12: 代码演示**
```python
# app/main.py - 应用入口
from fastapi import FastAPI
from app.api.health import router as health_router

app = FastAPI(
    title="RAG Course API",
    description="企业级RAG系统开发课程",
    version="1.0.0"
)

app.include_router(health_router, prefix="/api/v1")

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

**操作步骤**:
1. 逐行解释代码含义
2. 强调FastAPI的特性
3. 说明路由组织方式
4. 现场编写代码

**投屏内容13: 健康检查API**
```python
# app/api/health.py - 健康检查接口
from fastapi import APIRouter
from pydantic import BaseModel

router = APIRouter()

class HealthResponse(BaseModel):
    status: str
    message: str

@router.get("/health", response_model=HealthResponse)
async def health_check():
    return HealthResponse(
        status="healthy", 
        message="RAG系统运行正常"
    )
```

**操作步骤**:
1. 解释Pydantic模型的作用
2. 说明类型注解的重要性
3. 演示异步函数的使用
4. 现场编写并测试代码

**投屏内容14: 应用启动和测试**
```bash
# 启动应用
uv run python -m app.main

# 访问地址
http://localhost:8000/api/v1/health    # API接口
http://localhost:8000/docs             # 自动文档
http://localhost:8000/redoc            # 备选文档
```

**操作步骤**:
1. 现场启动应用
2. 在浏览器中访问各个地址
3. 展示自动生成的API文档
4. 让学生测试自己的应用

## 投屏技巧和注意事项

### 字体和显示设置
- **字体大小**: 至少18pt，确保后排学生能看清
- **对比度**: 使用高对比度配色方案
- **代码高亮**: 启用语法高亮，提高可读性

### 演示节奏控制
- **逐步展示**: 不要一次显示太多内容
- **重点标记**: 用颜色或动画突出重点
- **互动检查**: 每个关键步骤后确认学生理解

### 应急预案
- **备用材料**: 准备纸质版架构图和代码
- **网络问题**: 提前下载所需依赖包
- **设备故障**: 准备备用投屏设备

### 学生参与
- **实时反馈**: 通过举手或在线工具收集状态
- **分组协作**: 让完成快的学生帮助其他同学
- **问题记录**: 记录常见问题，及时解答