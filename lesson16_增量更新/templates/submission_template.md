# Lesson 16 提交模板（学生）

## 1. 实现概述
- 简述增量更新入口与差分检测（upsert/update/delete/tombstone）。
- 版本化幂等键（`source + normalized_id + content_hash + layer + version`）与去重覆盖策略。
- 失效与重建顺序（先失效缓存→更新索引→重建缓存）与边界控制。

## 2. 配置与参数
- 运行配置：并发度、重试参数、失效命名空间、重建分块策略与并行度。
- 输入文件：`examples/input_delta.json` 或自制更大规模样本。

## 3. 运行记录与数据
- 增量运行：差分统计（新增/更新/删除）、失效事件与局部重建日志。
- 故障注入：说明方式（超时/写冲突）与比例；附关键日志片段。
- 指标采集：`update_accuracy`、`dup_rate`、`invalidate_hit_rate`、`stale_window`、`throughput`、`latency(p50/p95)`。

## 4. 指标达成情况
- 更新正确率 ≥ 99.5%：证据与截图。
- 重复率 ≤ 0.5%：证据与截图。
- 失效命中率 ≥ 99%：证据与截图。
- 陈旧窗口 ≤ 5 分钟：计算方式与证据（时间戳对比）。

## 5. 错误与冲突处理
- 统一错误结构示例 `{ error: { code/message/details/hints } }`。
- 写冲突处理：版本比较、租约/轻量锁与重试退避日志片段。
- 回退与审计：必要时记录待回滚与审计事件。

## 6. 日志片段
- 差分统计与失效事件输出。
- 局部重建范围与向量重建数量；重试与退避参数输出。

## 7. 截图清单
- 增量运行统计面板或日志截图。
- 故障注入后指标与日志截图。
- 失效命名空间与键样例展示。

## 8. 边界与改进
- 未覆盖的场景与工程边界声明（如跨进程强一致/事务、索引压缩细节）。
- 可考虑的改进方向（失效传播优化、热点削峰、批量合并与压缩）。

## 9. 验收自评
- 是否满足阈值：更新正确率、重复率、命中率、陈旧窗口。
- 一致性与命名：与课程主线契约一致。
- 自评结论与需要助教进一步关注的点。